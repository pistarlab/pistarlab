(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-758a4732"],{"0d2e":function(e,t,n){"use strict";var o=n("5f8b"),s=n.n(o);s.a},2532:function(e,t,n){"use strict";var o=n("23e7"),s=n("5a34"),i=n("1d80"),a=n("ab13");o({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(i(this)).indexOf(s(e),arguments.length>1?arguments[1]:void 0)}})},"2f76":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item?n("div",[n("h2",[n("i",{staticClass:"fa fa-cube"}),e._v(" Session: "+e._s(e.item.ident)+", Episode: "+e._s(e.selectedEpisodeId))]),n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",[e.message?n("b-alert",{attrs:{show:"",variant:"warning"}},[e._v(e._s(e.message))]):e._e()],1)],1),n("b-row",[n("b-col",[n("b-navbar",{attrs:{toggleable:"lg",type:"light"}},[n("b-button-toolbar",{attrs:{"aria-label":"Toolbar with button groups and input groups"}},[n("b-button-group",{staticClass:"mr-1"},[n("b-button",{attrs:{to:"/session/view/"+e.item.ident}},[n("i",{staticClass:"fas fa-arrow-up"}),e._v(" Session ")])],1)],1)],1),n("b-row",[n("b-col",[n("b-form-group",{attrs:{label:"Episode"}},[n("b-form-select",{attrs:{options:e.episodeList},on:{change:function(t){return e.updateEpisode()}},model:{value:e.selectedEpisodeId,callback:function(t){e.selectedEpisodeId=t},expression:"selectedEpisodeId"}})],1)],1)],1)],1)],1),n("div",{staticClass:"mt-2"}),n("b-row",[n("b-col",[n("b-form-group",{attrs:{label:"FPS"}},[n("b-form-select",{staticClass:"mt-3 mb-3",attrs:{options:e.fpsOptions,size:"sm"},on:{change:function(t){return e.loadData()}},model:{value:e.fps,callback:function(t){e.fps=t},expression:"fps"}})],1),n("embed",{attrs:{src:e.videoURL,type:"video/mp4",height:"300px"}})],1)],1),n("b-row",[n("b-col",[n("b-card",[n("b-card-text",[n("b-table",{attrs:{striped:"",hover:"","table-busy":"",items:e.episode,fields:e.fields,dark:!1,small:!1,bordered:!1,outlined:!1,borderless:!1,"no-provider-paging":!0,"per-page":e.perPage,"current-page":e.currentPage},scopedSlots:e._u([{key:"cell(preview)",fn:function(t){return[n("img",{staticClass:"noscaleimg",attrs:{height:"80",src:e.appConfig.API_URL+"/api/download/session/"+e.item.ident+"/episode/"+e.selectedEpisodeId+"/images/"+e.pad(t.item.episode_step_count,5)+".jpg"}})]}},{key:"cell(test)",fn:function(t){return[e._v(" "+e._s(t.item)+" ")]}}],null,!1,332127257)}),n("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"aria-controls":"datatable"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)],1)],1)],1):e._e()},s=[],i=(n("99af"),n("4160"),n("caad"),n("a15b"),n("d81d"),n("b64b"),n("2532"),n("159b"),n("8785")),a=n("bc3a"),r=n.n(a),c=n("9530"),d=n.n(c),u=n("bbd0"),l=n("4023");function p(){var e=Object(i["a"])(["\n  query GetSession($ident: String!) {\n    session(ident: $ident) {\n        id\n      ident\n      envSpecId\n      created\n      config\n      runInfo\n      status\n      createdTimestamp\n    }\n  }\n"]);return p=function(){return e},e}function f(e,t){return null==e?"":isNaN(e)?"NaN":e.toPrecision(t)}function b(e,t,n){return n=n||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(n)+e}var g=[{key:"episode_step_count",label:"Step"},{key:"reward",label:"Reward",formatter:function(e){return f(e,3)}},{key:"observation",label:"Observation"},{key:"preview",label:"Preview",formatter:function(e){return null==e||e.includes("ENCODE_FAILED")?"NA":e}},{key:"done",label:"Done"},{key:"action",label:"Action (after observation)"}],h=d()(p()),m={name:"Session",components:{},apollo:{session:{query:h,variables:function(){return{ident:this.uid}}}},data:function(){return{appConfig:l["a"],perPage:10,currentPage:1,session:{},fields:g,selectedEpisodeId:null,fps:15,fpsOptions:[{value:2,text:"2 FPS"},{value:5,text:"5 FPS"},{value:15,text:"15 FPS"},{value:60,text:"60 FPS"},{value:120,text:"120 FPS"},{value:180,text:"180 FPS"}],episodes:[],episode:[],maxEpisode:"",message:"",imageURL:"placeholder.jpg",videoURL:""}},props:{uid:String,episodeId:String},computed:{episodeList:function(){return 0==this.episodes.length?[]:this.episodes.map((function(e){return{text:e,value:e}}))},item:function(){return this.session},rows:function(){return this.episode.length}},mounted:function(){},methods:{pad:b,updateEpisode:function(){this.$router.push({path:"/episode/view/".concat(this.uid),query:{episodeId:this.selectedEpisodeId}}),this.loadData()},timedelta:u["d"],timelength:u["f"],formatNum:f,imageError:function(e){console.log(e),this.imageURL="placeholder.jpg"},loadData:function(){var e=this;console.log(this.uid),r.a.get("".concat(l["a"].API_URL,"/api/session_episodes/").concat(this.uid)).then((function(t){var n=t.data["items"];n&&(e.episodes=n)})).catch((function(t){e.error=t})),r.a.get("".concat(l["a"].API_URL,"/api/session_episode_by_id/").concat(this.uid,"/").concat(this.selectedEpisodeId)).then((function(t){console.log(JSON.stringify(t,null,2));var n=t.data["item"],o=[];if(null!=n)for(var s=Object.keys(n),i=n[s[0]].length,a=function(e){var t={};s.forEach((function(o){t[o]=n[o][e]})),o.push(t)},r=0;r<i;r++)a(r);e.episode=o,e.videoURL="".concat(l["a"].API_URL,"/api/session_episode_mp4/").concat(e.uid,"/").concat(e.selectedEpisodeId,"?fps=").concat(e.fps)})).catch((function(t){e.error=t,console.log(e.error)}))}},created:function(){this.selectedEpisodeId=this.episodeId,this.loadData()},beforeDestroy:function(){}},v=m,w=(n("0d2e"),n("2877")),_=Object(w["a"])(v,o,s,!1,null,null,null);t["default"]=_.exports},"5a34":function(e,t,n){var o=n("44e7");e.exports=function(e){if(o(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5f8b":function(e,t,n){},ab13:function(e,t,n){var o=n("b622"),s=o("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[s]=!1,"/./"[e](t)}catch(o){}}return!1}},b64b:function(e,t,n){var o=n("23e7"),s=n("7b0b"),i=n("df75"),a=n("d039"),r=a((function(){i(1)}));o({target:"Object",stat:!0,forced:r},{keys:function(e){return i(s(e))}})},caad:function(e,t,n){"use strict";var o=n("23e7"),s=n("4d64").includes,i=n("44d2"),a=n("ae40"),r=a("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:!r},{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")}}]);
//# sourceMappingURL=chunk-758a4732.e07b6275.js.map
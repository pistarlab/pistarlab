(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39b570a5"],{"07ac":function(t,a,e){var s=e("23e7"),n=e("6f53").values;s({target:"Object",stat:!0},{values:function(t){return n(t)}})},"4df4":function(t,a,e){"use strict";var s=e("0366"),n=e("7b0b"),i=e("9bdd"),o=e("e95a"),r=e("50c4"),l=e("8418"),c=e("35a1");t.exports=function(t){var a,e,u,d,f,v,p=n(t),b="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,_=c(p),x=0;if(g&&(m=s(m,h>2?arguments[2]:void 0,2)),void 0==_||b==Array&&o(_))for(a=r(p.length),e=new b(a);a>x;x++)v=g?m(p[x],x):p[x],l(e,x,v);else for(d=_.call(p),f=d.next,e=new b;!(u=f.call(d)).done;x++)v=g?i(d,m,[u.value,x],!0):u.value,l(e,x,v);return e.length=x,e}},"6f53":function(t,a,e){var s=e("83ab"),n=e("df75"),i=e("fc6a"),o=e("d1e7").f,r=function(t){return function(a){var e,r=i(a),l=n(r),c=l.length,u=0,d=[];while(c>u)e=l[u++],s&&!o.call(r,e)||d.push(t?[e,r[e]]:r[e]);return d}};t.exports={entries:r(!0),values:r(!1)}},"8fb1":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page"},[e("div",{staticClass:"page-content"},[t._m(0),e("div",{staticClass:"mt-4"}),e("b-modal",{attrs:{id:"modal-restart",title:"Restart",size:"lg"}},[e("RestartDialog")],1),e("b-modal",{attrs:{id:"modal-logviewer",title:"Extension Manager Logs",size:"xl"}},[e("LogViewer",{attrs:{nocard:!0,logStreamUrl:t.appConfig.API_URL+"/api/stream/scoped/extension_manager"}})],1),t.manageExtensionId?t._e():e("div",[e("b-navbar",[t._v(" Filter by Extension Status: "),e("b-button-toolbar",[e("b-button-group",{attrs:{size:"sm"}},[e("b-button",{staticClass:"mr-0",attrs:{pressed:""==t.selectedStatus},on:{click:function(a){return t.updateStatusFilter("")}}},[t._v("Any")]),e("b-button",{staticClass:"mr-0",attrs:{pressed:"installed"==t.selectedStatus},on:{click:function(a){return t.updateStatusFilter("installed")}}},[t._v("Installed")]),e("b-button",{staticClass:"mr-0",attrs:{pressed:"avail"==t.selectedStatus},on:{click:function(a){return t.updateStatusFilter("avail")}}},[t._v("Not Installed")])],1)],1),e("b-form-checkbox",{staticClass:"ml-2",attrs:{switch:""},model:{value:t.onlyWorkspaceExtensions,callback:function(a){t.onlyWorkspaceExtensions=a},expression:"onlyWorkspaceExtensions"}},[t._v("Show only Workspace Extensions")]),e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal:modal-logviewer",arg:"modal-logviewer"}],staticClass:"ml-auto mr-2",attrs:{size:"sm",variant:"info"}},[e("i",{staticClass:"fa fa-bug"}),t._v(" Extension Logs")])],1),e("b-navbar",{attrs:{toggleable:"lg",type:"light",variant:"alert"}}),e("b-form-input",{staticClass:"ml-2",staticStyle:{width:"250px"},attrs:{placeholder:"Search Extensions"},model:{value:t.searchtext,callback:function(a){t.searchtext=a},expression:"searchtext"}})],1),e("div",{staticClass:"mt-4"}),t.loading?e("div",[t._v(" loading... ")]):e("div",[Object.keys(t.filteredExtensions).length>0?e("div",[e("b-container",{attrs:{fluid:""}},t._l(t.filteredExtensions,(function(a,s){return e("div",{key:s},[e("b-row",[e("b-col",[e("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse_"+s,expression:"'collapse_'+idx"}]},[e("span",{staticClass:"hover h4"},[e("i",{staticClass:"fa fa-project-diagram"}),t._v(" "+t._s(a.name))]),t._v(" "),e("b-link",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"This extension is in your workspace.",expression:"'This extension is in your workspace.'",modifiers:{hover:!0,top:!0}}],staticClass:"ml-2",attrs:{to:"/workspace/home"}},["Workspace"==a.source.name?e("b-badge",{staticClass:"mr-2",attrs:{pill:"",variant:"warning"}},[e("i",{staticClass:"fa fa-code"}),t._v(" Workspace")]):t._e()],1),e("p",{staticClass:"desc"},[t._v(t._s(a.description))])],1)]),e("b-col",[e("div",{staticClass:"text-right"},["AVAILABLE"==a.status?e("b-button",{attrs:{size:"sm",variant:"info"},on:{click:function(e){return t.installExtension(a.id,a.version)}}},[t._v("Install")]):"INSTALLING"==a.status?e("b-button",{attrs:{size:"sm",variant:"",disabled:""}},[e("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Installing... ")],1):e("div",["INSTALL_FAILED"==a.status?e("b-button",{staticClass:"mr-2",attrs:{size:"sm",variant:"secondary"},on:{click:function(e){return t.installExtension(a.id,a.version)}}},[t._v("Retry Install")]):t._e(),"INSTALLED"==a.status?e("b-button",{staticClass:"mr-2",attrs:{size:"sm",variant:"secondary"},on:{click:function(e){return t.installExtension(a.id,a.version)}}},[t._v("Reinstall")]):t._e(),e("b-button",{staticClass:"mr-2",attrs:{size:"sm",variant:""},on:{click:function(e){return t.removeExtension(a.id,a.version)}}},[t._v("Uninstall")])],1)],1)])],1),e("b-row",{staticClass:"small "},[e("b-col",[e("div",[e("span",{staticClass:"data_label mt-1"},[t._v("ID: ")]),e("span",[t._v(t._s(a.id))])]),e("div",[e("span",{staticClass:"data_label mt-1"},[t._v("Version: ")]),e("span",[t._v(t._s(a.version))])]),e("div",[e("span",{staticClass:"data_label mt-1"},[t._v("Categories: ")]),e("span",[t._v(t._s(a.categories.join(",")))])]),e("div",[e("span",{staticClass:"data_label mt-1"},[t._v("Original Author: ")]),e("span",[t._v(t._s(a.original_author))])]),e("div",[e("span",{staticClass:"data_label mt-1"},[t._v("Extension Author: ")]),e("span",[t._v(t._s(a.extension_author))])])]),e("b-col",{},[e("div",[e("span",{staticClass:"data_label mt-1"},[t._v("Source Name: ")]),e("span",[t._v(t._s(a.source.name)+" ")])]),a.source.type?e("div",[e("span",{staticClass:"data_label mt-1"},[t._v("Source Type: ")]),e("span",[t._v(t._s(a.source.type))])]):t._e(),a.source.path?e("div",[e("span",{staticClass:"data_label mt-1"},[t._v("Source Path: ")]),e("span",[t._v(t._s(a.source.path))])]):t._e(),a.full_path?e("div",[e("span",{staticClass:"data_label mt-1"},[t._v("Full Path: ")]),e("span",{staticStyle:{color:"red"}},[t._v(t._s(a.full_path))])]):t._e(),a.installation_instructions?e("div",[e("span",{staticClass:"data_label mt-1"},[t._v("Additional Installation Instructions: ")]),e("span",{staticStyle:{color:"red"}},[t._v(t._s(a.installation_instructions))])]):t._e()]),e("b-col",{},[e("span",{staticClass:"data_label mt-1"},[t._v("State: ")]),"PREPPED_RELOAD"==a.status?e("span",{staticStyle:{color:"yellow"}},[t._v("**Restart piSTAR Lab to complete installation* "),e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal:modal-restart",arg:"modal-restart"}],attrs:{size:"sm"}},[t._v("Restart Now")])],1):e("span",[t._v(t._s(a.status)+" ")]),"INSTALL_FAILED"!=a.status&&"UNINSTALL_FAILED"!=a.status||!a.status_msg?t._e():e("span",[e("pre",[t._v(t._s(a.status_msg))])])])],1),s!=Object.keys(t.filteredExtensions).length-1?e("span",[e("hr")]):t._e()],1)})),0)],1):e("div",[t._v(" No Extensions Found ")])])],1),e("HelpInfo",{attrs:{contentId:"extensions"}})],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h1",[e("i",{staticClass:"fa fa-project-diagram"}),t._v(" Extensions")])}],i=(e("99af"),e("4de4"),e("4160"),e("caad"),e("a15b"),e("b0c0"),e("b64b"),e("d3b7"),e("07ac"),e("6062"),e("2532"),e("3ca3"),e("159b"),e("ddb0"),e("b85c")),o=e("bc3a"),r=e.n(o),l=e("4023"),c=e("bbd0"),u=e("1577"),d=e("4b59"),f=[{key:"link",label:"Extension UID",sortable:!0},{key:"desc.tags",label:"Tags",sortable:!0,formatter:function(t){return t?t.join(", "):""}},{key:"info.creation_time",label:"Creation Time",sortable:!0,formatter:c["d"]},{key:"job_data.state",label:"Job State"}],v={name:"ExtensionHome",components:{LogViewer:u["a"],RestartDialog:d["a"]},props:{showWorkspaceExtensions:Boolean,manageExtensionId:String,category:{type:String,default:null}},data:function(){return{appConfig:l["a"],searchtext:"",fields:f,allExtensions:{},error:"",selected:[],loading:!0,selectedStatus:"",onlyWorkspaceExtensions:!1,filterCategories:{agents:{caption:"Agents",state:!1},envs:{caption:"Enivonrments",state:!1},tasks:{caption:"Tasks",state:!1}}}},computed:{filteredExtensions:function(){var t=this,a={};return a=this.manageExtensionId?this.filtered.filter((function(a){return a.id==t.manageExtensionId})):"installed"==this.selectedStatus?this.filtered.filter((function(t){return"AVAILABLE"!=t.status})):"avail"==this.selectedStatus?this.filtered.filter((function(t){return"AVAILABLE"==t.status||"INSTALLING"==t.status||"INSTALL_FAILED"==t.status||"UNINSTALL_FAILED"==t.status})):this.filtered,a.sort((function(t,a){return t.name>a.name}))},filtered:function(){var t=this,a=new Set;Object.keys(this.filterCategories).forEach((function(e){t.filterCategories[e]["state"]&&a.add(e)}));var e=[];return Object.values(this.allExtensions).forEach((function(s){var n=!1;if(!t.onlyWorkspaceExtensions||"Workspace"==s["source"]["name"]){var o,r=Object(i["a"])(s.categories);try{for(r.s();!(o=r.n()).done;){var l=o.value;if(a.has(l)){n=!0;break}}}catch(c){r.e(c)}finally{r.f()}(0==s.categories.length||s.categories.length==t.filterCategories.length||n)&&e.push(s)}})),""!=this.searchtext?e.filter((function(a){return a.name.toLowerCase().includes(t.searchtext.toLowerCase())})):e}},methods:{getExtensionKey:function(t,a){return"".concat(t,"__v").concat(a)},updateList:function(t){this.loadData()},installExtension:function(t,a){var e=this;console.log("Installing "+this.getExtensionKey(t,a));var s=this.allExtensions[this.getExtensionKey(t,a)];s.status="INSTALLING",this.$set(this.allExtensions,this.getExtensionKey(t,a),s),r.a.get("".concat(l["a"].API_URL,"/api/extensions/action/install/").concat(t,"/").concat(a)).then((function(t){e.loadData(),e.updateStatusFilter("installed")})).catch((function(t){this.errorMessage=t,this.loadData()}))},removeExtension:function(t,a){var e=this;console.log("Uninstall "+this.getExtensionKey(t,a)),this.allExtensions[this.getExtensionKey(t,a)].status="REMOVING",r.a.get("".concat(l["a"].API_URL,"/api/extensions/action/uninstall/").concat(t,"/").concat(a)).then((function(t){e.errorMessage=JSON.stringify(t.data),e.loadData()})).catch((function(t){this.errorMessage=t})),this.loadData()},reloadExtension:function(t,a){var e=this;console.log("Reloading "+this.getExtensionKey(t,a)),r.a.get("".concat(l["a"].API_URL,"/api/extensions/action/reload/").concat(t,"/").concat(a)).then((function(t){e.errorMessage=JSON.stringify(t.data),e.loadData()})).catch((function(t){this.errorMessage=t})),this.loadData()},openLink:function(t){console.log(t),this.$router.push({path:t}).catch((function(t){})),this.$emit("hide")},loadData:function(){var t=this;this.loading=!0,r.a.get("".concat(l["a"].API_URL,"/api/extensions/list")).then((function(a){t.allExtensions=a.data["items"],t.loading=!1})).catch((function(a){t.error=a,t.loading=!1}))},updateStatusFilter:function(t){console.log(t),this.selectedStatus=t}},created:function(){var t=this;this.showWorkspaceExtensions&&(this.onlyWorkspaceExtensions=!0),this.selectedStatus="",Object.keys(this.filterCategories).forEach((function(a){t.filterCategories[a]["state"]=!0})),this.loadData()}},p=v,b=(e("c4fe"),e("2877")),h=Object(b["a"])(p,s,n,!1,null,null,null);a["default"]=h.exports},a630:function(t,a,e){var s=e("23e7"),n=e("4df4"),i=e("1c7e"),o=!i((function(t){Array.from(t)}));s({target:"Array",stat:!0,forced:o},{from:n})},a91f:function(t,a,e){},b85c:function(t,a,e){"use strict";e.d(a,"a",(function(){return i}));e("a4d3"),e("e01a"),e("d28b"),e("d3b7"),e("3ca3"),e("ddb0"),e("a630"),e("fb6a"),e("b0c0"),e("25f0");function s(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,s=new Array(a);e<a;e++)s[e]=t[e];return s}function n(t,a){if(t){if("string"===typeof t)return s(t,a);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(t,a):void 0}}function i(t,a){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=n(t))||a&&t&&"number"===typeof t.length){e&&(t=e);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return r=t.done,t},e:function(t){l=!0,o=t},f:function(){try{r||null==e["return"]||e["return"]()}finally{if(l)throw o}}}}},c4fe:function(t,a,e){"use strict";var s=e("a91f"),n=e.n(s);n.a}}]);
//# sourceMappingURL=chunk-39b570a5.1585acf3.js.map